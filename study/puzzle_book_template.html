<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudodles - Puzzle Collection</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        
        body {
            font-family: "Times New Roman", serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
        }
        
        .title-page {
            text-align: center;
            padding-top: 8cm;
            page-break-after: always;
        }
        
        .title-page h1 {
            font-size: 4em;
            margin-bottom: 0.5em;
            color: #2c3e50;
        }
        
        .title-page .subtitle {
            font-size: 1.5em;
            color: #7f8c8d;
            margin-bottom: 2em;
        }
        
        .chapter {
            page-break-before: always;
            margin-bottom: 2em;
        }
        
        .chapter h1 {
            font-size: 2.5em;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 0.5em;
            margin-bottom: 1em;
        }
        
        .section h2 {
            font-size: 2em;
            color: #34495e;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        .puzzle-container {
            margin-bottom: 2em;
            page-break-inside: avoid;
            display: inline-block;
            width: 48%;
            vertical-align: top;
            margin-right: 2%;
        }
        
        .puzzle-container h3 {
            font-size: 1.2em;
            margin-bottom: 0.5em;
            color: #2c3e50;
        }
        
        .sudodle-grid {
            border-collapse: collapse;
            margin: 1em auto;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .sudodle-grid td {
            width: 2em;
            height: 2em;
            text-align: center;
            vertical-align: middle;
            border: 2px solid #2c3e50;
        }
        
        .sudodle-grid.size-4 td {
            width: 2.5em;
            height: 2.5em;
            font-size: 1.4em;
        }
        
        .sudodle-grid.size-5 td {
            width: 2.2em;
            height: 2.2em;
            font-size: 1.2em;
        }
        
        .sudodle-grid.size-6 td {
            width: 2em;
            height: 2em;
            font-size: 1.1em;
        }
        
        .sudodle-grid.size-7 td {
            width: 1.8em;
            height: 1.8em;
            font-size: 1em;
        }
        
        .sudodle-grid td.given {
            background-color: #27ae60;
            color: white;
        }
        
        .sudodle-grid td.empty {
            background-color: #ecf0f1;
            color: #bdc3c7;
        }
        
        .puzzle-id {
            text-align: center;
            font-size: 0.9em;
            color: #95a5a6;
            margin-top: 0.5em;
        }
        
        .puzzles-section {
            margin-bottom: 2em;
        }
        
        .intro {
            page-break-after: always;
            line-height: 1.8;
        }
        
        .intro h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 1em;
        }
        
        .intro p {
            margin-bottom: 1em;
            text-align: justify;
        }
        
        .intro strong {
            color: #2c3e50;
        }
        
        .intro ul {
            margin-left: 2em;
        }
        
        .intro li {
            margin-bottom: 0.5em;
        }
    </style>
</head>
<body>
    <!-- Title Page -->
    <div class="title-page">
        <h1>Sudodles</h1>
        <div class="subtitle">A Collection of Latin Square Puzzles</div>
        <p>Organized by Grid Size and Difficulty</p>
    </div>

    <!-- Introduction -->
    <div class="intro">
        <h1>Introduction to Sudodles</h1>
        <p>
            Welcome to the fascinating world of Sudodles! This puzzle game combines elements of logic, 
            deduction, and Latin square mathematics to create an engaging and challenging experience.
        </p>
        <p>
            <strong>How to Play:</strong><br>
            In Sudodles, you start with a cyclic Latin square where each number appears exactly once 
            in each row and column. Some positions are marked as "correct" (shown in green), while 
            others are "wrong" and need to be deduced. Your goal is to figure out what the correct 
            Latin square should be.
        </p>
        <p>
            <strong>Rules:</strong><br>
            • Each row must contain all numbers from 1 to N exactly once<br>
            • Each column must contain all numbers from 1 to N exactly once<br>
            • Green cells show the correct numbers for those positions<br>
            • All other positions contain incorrect numbers that must be changed<br>
            • Use logic and deduction to find the unique solution
        </p>
        <p>
            <strong>Difficulty Levels:</strong><br>
            • <strong>Normal:</strong> Can be solved with basic logical deduction<br>
            • <strong>Hard:</strong> Requires more advanced techniques and some trial-and-error<br>
            • <strong>Expert:</strong> Demands sophisticated reasoning and multiple deduction steps
        </p>
        <p>
            The puzzles in this collection are organized by grid size (4×4, 5×5, 6×6, and 7×7) 
            and then by difficulty level. Each puzzle has a unique identifier that can be used 
            to reference specific challenges.
        </p>
        <p>
            Good luck, and enjoy exploring the mathematical beauty of Latin squares!
        </p>
    </div>

    <!-- Puzzle Chapters -->
    {% for grid_size in puzzle_data.keys() | sort %}
    <div class="chapter">
        <h1>{{ grid_size }}×{{ grid_size }} Puzzles</h1>
        
        {% for level in ['normal', 'hard', 'expert'] %}
            {% if level in puzzle_data[grid_size] and puzzle_data[grid_size][level] %}
            <div class="section">
                <h2>{{ level.title() }} Difficulty ({{ puzzle_data[grid_size][level] | length }} puzzles)</h2>
                <div class="puzzles-section">
                    {% for puzzle in puzzle_data[grid_size][level] %}
                    <div class="puzzle-container">
                        <img src="svgs/{{ puzzle['compacted_puzzle'] }}.svg" alt="Puzzle {{ puzzle['compacted_puzzle'] }}">
                        <p class="puzzle-id">ID: {{ puzzle['compacted_puzzle'] }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
    {% endfor %}
</body>
</html> 